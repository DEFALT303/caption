import PropTypes from "prop-types";
import { shell } from "electron";

const folderIcon = (
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="20"
    height="17"
    viewBox="0 0 20 17"
  >
    <g fill="none" fillRule="evenodd">
      <path
        fill="#71B9F4"
        d="M3.31288349,1 L5.46481624,1 C5.74469429,1 5.99385052,1.03348691 6.21891839,1.10401085 C6.44398627,1.17453479 6.6449658,1.28209577 6.82849046,1.43024392 C7.01201513,1.57839207 7.17808492,1.76712738 7.33333333,2 L7.33333333,2 C7.48858174,2.23287262 7.65465154,2.42160793 7.8381762,2.56975608 C8.02170087,2.71790423 8.2226804,2.82546521 8.44774827,2.89598915 C8.67281615,2.96651309 8.92197237,3 9.20185043,3 L16.1541722,3 C17.4914503,3 17.9763797,3.13923842 18.4652686,3.40069906 C18.9541574,3.66215969 19.3378403,4.04584256 19.5993009,4.53473144 C19.8607616,5.02362033 20,5.50854969 20,6.8458278 L20,13.1541722 C20,14.4914503 19.8607616,14.9763797 19.5993009,15.4652686 C19.3378403,15.9541574 18.9541574,16.3378403 18.4652686,16.5993009 C17.9763797,16.8607616 17.4914503,17 16.1541722,17 L3.8458278,17 C2.50854969,17 2.02362033,16.8607616 1.53473144,16.5993009 C1.04584256,16.3378403 0.662159695,15.9541574 0.400699056,15.4652686 C0.139238417,14.9763797 3.61289898e-15,14.4914503 3.44912965e-15,13.1541722 L3.83171768e-17,4.31288349 C-4.71319341e-17,3.61513855 0.139238417,3.02362033 0.400699056,2.53473144 C0.662159695,2.04584256 1.04584256,1.66215969 1.53473144,1.40069906 C2.02362033,1.13923842 2.61513855,1 3.31288349,1 Z"
      />
      <path
        fill="#92CEFF"
        d="M3.31288349,-5.01564975e-16 L5.46481624,9.12331438e-16 C5.74469429,8.60918674e-16 5.99385052,0.0334869059 6.21891839,0.104010849 C6.44398627,0.174534792 6.6449658,0.282095772 6.82849046,0.43024392 C7.01201513,0.578392068 7.17808492,0.767127384 7.33333333,1 L7.33333333,1 C7.48858174,1.23287262 7.65465154,1.42160793 7.8381762,1.56975608 C8.02170087,1.71790423 8.2226804,1.82546521 8.44774827,1.89598915 C8.67281615,1.96651309 8.92197237,2 9.20185043,2 L16.1541722,2 C17.4914503,2 17.9763797,2.13923842 18.4652686,2.40069906 C18.9541574,2.66215969 19.3378403,3.04584256 19.5993009,3.53473144 C19.8607616,4.02362033 20,4.50854969 20,5.8458278 L20,12.1541722 C20,13.4914503 19.8607616,13.9763797 19.5993009,14.4652686 C19.3378403,14.9541574 18.9541574,15.3378403 18.4652686,15.5993009 C17.9763797,15.8607616 17.4914503,16 16.1541722,16 L3.8458278,16 C2.50854969,16 2.02362033,15.8607616 1.53473144,15.5993009 C1.04584256,15.3378403 0.662159695,14.9541574 0.400699056,14.4652686 C0.139238417,13.9763797 3.61289898e-15,13.4914503 3.44912965e-15,12.1541722 L3.83171768e-17,3.31288349 C-4.71319341e-17,2.61513855 0.139238417,2.02362033 0.400699056,1.53473144 C0.662159695,1.04584256 1.04584256,0.662159695 1.53473144,0.400699056 C2.02362033,0.139238417 2.61513855,-3.73391309e-16 3.31288349,-5.01564975e-16 Z"
      />
    </g>
  </svg>
);

const FilePath = ({ dropFilePath, dropFilePathClean, onReset }) => (
  <div>
    <span className="folder">{folderIcon}</span>
    <span
      className="location"
      onClick={() => shell.showItemInFolder(dropFilePath)}
    >
      {dropFilePathClean}
    </span>
    <span className="reset" onClick={onReset}>
      {" "}
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="14"
        height="14"
        viewBox="0 0 14 14"
      >
        <g fill="none" fillRule="evenodd">
          <circle cx="7" cy="7" r="7" fill="#C8C8C8" />
          <path
            fill="#FFF"
            fillRule="nonzero"
            d="M8.06066017,7 L10.0303301,5.03033009 C10.3232233,4.73743687 10.3232233,4.26256313 10.0303301,3.96966991 C9.73743687,3.6767767 9.26256313,3.6767767 8.96966991,3.96966991 L7,5.93933983 L5.03033009,3.96966991 C4.3232233,3.26256313 3.26256313,4.3232233 3.96966991,5.03033009 L5.93933983,7 L3.96966991,8.96966991 C3.6767767,9.26256313 3.6767767,9.73743687 3.96966991,10.0303301 C4.26256313,10.3232233 4.73743687,10.3232233 5.03033009,10.0303301 L7,8.06066017 L8.96966991,10.0303301 C9.6767767,10.7374369 10.7374369,9.6767767 10.0303301,8.96966991 L8.06066017,7 Z"
          />
        </g>
      </svg>
    </span>

    <style jsx>
      {`
        div {
          display: flex;
          align-items: center;
        }

        .folder {
          width: 20px;
          vertical-align: center;
          margin-right: 8px;
        }

        .location {
          font-size: 21px;
          white-space: nowrap;
          text-overflow: ellipsis;
          overflow: hidden;
          flex: 1;
        }

        .location:hover {
          color: rgba(0, 0, 0, 0.5);
        }

        .reset {
          margin-left: 12px;
        }

        .reset:hover circle {
          fill: #949494;
        }

        svg {
          width: 100%;
        }
      `}
    </style>
  </div>
);

FilePath.propTypes = {
  dropFilePath: PropTypes.string.isRequired,
  dropFilePathClean: PropTypes.string.isRequired,
};

export default FilePath;
